{"version":3,"file":"/assets/modules/quick-view.js","mappings":";;;;AAAA;AACE,WAAUA,CAAC,EAAG;EACfA,CAAC,CAACC,EAAE,CAACC,eAAe,GAAG,YAAW;IACjC,IAAMC,KAAK,GAAG,IAAIC,SAAS,CAC1B;MACCC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,IAAI;MACZC,KAAK,EAAE,KAAK;MACZC,SAAS,EAAE,kBAAkB;MAC7BC,QAAQ,EAAEC,aAAa,CAACC,WAAW,GAAG,CAAC,GAAGD,aAAa,CAACC,WAAW,GAAG;IACvE,CACD,CAAC;IACDX,CAAC,CAAEY,QAAS,CAAC,CACXC,GAAG,CAAE,OAAO,EAAE,sBAAuB,CAAC,CACtCC,EAAE,CACF,OAAO,EACP,sBAAsB,EACtB,UAAUC,CAAC,EAAG;MACbA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClBD,CAAC,CAACE,eAAe,CAAC,CAAC;MACnB,IAAMC,MAAM,GAAGlB,CAAC,CAAE,IAAK,CAAC;MACxB,IAAMmB,UAAU,GAAGD,MAAM,CAACE,IAAI,CAAE,YAAa,CAAC;MAC9C,IAAMC,WAAW,GAAGH,MAAM,CAACE,IAAI,CAAE,OAAQ,CAAC;MAC1C,IAAKD,UAAU,EAAG;QACjBnB,CAAC,CAACsB,IAAI,CACL;UACCC,GAAG,EAAEC,YAAY,CAACC,OAAO;UACzBL,IAAI,EAAE;YACLM,MAAM,EAAE,8BAA8B;YACtCP,UAAU,EAAVA,UAAU;YACVQ,IAAI,EAAEH,YAAY,CAACG;UACpB,CAAC;UACDC,QAAQ,EAAE,MAAM;UAChBC,IAAI,EAAE,MAAM;UACZC,UAAU,WAAVA,UAAUA,CAAA,EAAG;YACZ3B,KAAK,CAAC4B,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC;UAC9B,CAAC;UACDC,OAAO,WAAPA,OAAOA,CAAEC,GAAG,EAAG;YACd/B,KAAK,CAACgC,IAAI,CAACC,QAAQ,CAAE,4BAA6B,CAAC;YACnDjC,KAAK,CAACkC,QAAQ,CAAE,EAAG,CAAC;YACpB;YACAlC,KAAK,CAACmC,OAAO,CAAEJ,GAAG,CAACd,IAAI,CAACmB,IAAK,CAAC;YAE9B,IAAMC,cAAc,GACWrC,KAAK,CAACgC,IAAI,CAACM,IAAI,CAAE,kBAAmB,CAAC;YACpED,cAAc,CAACE,IAAI,CAClB,YAAW;cACV1C,CAAC,CAAE,IAAK,CAAC,CAAC2C,iBAAiB,CAAC,CAAC;YAC9B,CACD,CAAC;YAEDH,cAAc,CAACI,OAAO,CAAE,kBAAmB,CAAC;YAC5CJ,cAAc,CAACI,OAAO,CAAE,aAAc,CAAC;YAEvC,IAAK,OAAO5C,CAAC,CAACC,EAAE,CAAC4C,kBAAkB,KAAK,WAAW,EAAG;cACrD1C,KAAK,CAACgC,IAAI,CACRM,IAAI,CAAE,8BAA+B,CAAC,CACtCC,IAAI,CACJ,YAAW;gBACV1C,CAAC,CAAE,IAAK,CAAC,CAAC6C,kBAAkB,CAAC,CAAC;cAC/B,CACD,CAAC;YACH;YACA,IAAI1C,KAAK,CAACgC,IAAI,CAACM,IAAI,CAAE,oBAAqB,CAAC,EAAE;cAC5CtC,KAAK,CAACgC,IAAI,CAACC,QAAQ,CAAE,2BAA4B,CAAC;YACnD;YAEApC,CAAC,CAAEY,QAAS,CAAC,CAACgC,OAAO,CAAE,gBAAiB,CAAC;YAEzCE,UAAU,CAAC,YAAW;cACrB;cACA3C,KAAK,CAAC4C,aAAa,CAAC,CAAC;YACtB,CAAC,EAAC,GAAG,CAAC;UACP,CAAC;UACDC,IAAI,WAAJA,IAAIA,CAAA,EAAG;YACNhD,CAAC,CAAEY,QAAS,CAAC,CAACgC,OAAO,CAAE,cAAe,CAAC;UACxC,CAAC;UACDK,MAAM,WAANA,MAAMA,CAAA,EAAG;YACR;YACAjD,CAAC,CAAEY,QAAS,CAAC,CAACgC,OAAO,CAAE,eAAgB,CAAC;UACzC;QACD,CACD,CAAC;MACF,CAAC,MAAM;QACNM,OAAO,CAACC,GAAG,CAAE,qBAAsB,CAAC;MACrC;IACD,CACD,CAAC;EACH,CAAC;EACDnD,CAAC,CAAEY,QAAS,CAAC,CAACE,EAAE,CACf,+CAA+C,EAC/C,YAAW;IACVd,CAAC,CAACC,EAAE,CAACC,eAAe,CAAC,CAAC;EACvB,CACD,CAAC;EAEDF,CAAC,CACA,YAAW;IACVA,CAAC,CAACC,EAAE,CAACC,eAAe,CAAC,CAAC;EACvB,CACD,CAAC;AACF,CAAC,EAAEkD,MAAO,CAAC,C","sources":["webpack://shopbuilder/./src/js/frontend/modules/quick-view.js"],"sourcesContent":["/* global rtsbQvParams*/\n( function( $ ) {\n\t$.fn.rtsb_quick_view = function() {\n\t\tconst modal = new RtsbModal(\n\t\t\t{\n\t\t\t\tfooter: false,\n\t\t\t\theader: true,\n\t\t\t\ttitle: false,\n\t\t\t\twrapClass: 'quick-view-modal',\n\t\t\t\tmaxWidth: QvModalParams.modal_width > 0 ? QvModalParams.modal_width : 950,\n\t\t\t}\n\t\t);\n\t\t$( document )\n\t\t\t.off( 'click', '.rtsb-quick-view-btn' )\n\t\t\t.on(\n\t\t\t\t'click',\n\t\t\t\t'.rtsb-quick-view-btn',\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tconst $_self = $( this );\n\t\t\t\t\tconst product_id = $_self.data( 'product_id' );\n\t\t\t\t\tconst button_text = $_self.data( 'title' );\n\t\t\t\t\tif ( product_id ) {\n\t\t\t\t\t\t$.ajax(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: rtsbQvParams.ajaxurl,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'rtsb_load_product_quick_view',\n\t\t\t\t\t\t\t\t\tproduct_id,\n\t\t\t\t\t\t\t\t\tlang: rtsbQvParams.lang,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\tbeforeSend() {\n\t\t\t\t\t\t\t\t\tmodal.addModal().addLoading();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess( res ) {\n\t\t\t\t\t\t\t\t\tmodal.body.addClass( 'woocommerce single-product' );\n\t\t\t\t\t\t\t\t\tmodal.addTitle( '' );\n\t\t\t\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\t\t\t\tmodal.content( res.data.html );\n\n\t\t\t\t\t\t\t\t\tconst form_variation =\n                                        modal.body.find( '.variations_form' );\n\t\t\t\t\t\t\t\t\tform_variation.each(\n\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t$( this ).wc_variation_form();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tform_variation.trigger( 'check_variations' );\n\t\t\t\t\t\t\t\t\tform_variation.trigger( 'reset_image' );\n\n\t\t\t\t\t\t\t\t\tif ( typeof $.fn.wc_product_gallery !== 'undefined' ) {\n\t\t\t\t\t\t\t\t\t\tmodal.body\n\t\t\t\t\t\t\t\t\t\t\t.find( '.woocommerce-product-gallery' )\n\t\t\t\t\t\t\t\t\t\t\t.each(\n\t\t\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$( this ).wc_product_gallery();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif( modal.body.find( '.elementor-element' ) ){\n\t\t\t\t\t\t\t\t\t\tmodal.body.addClass( 'rtsb-build-with-elementor' );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.success' );\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function (){\n\t\t\t\t\t\t\t\t\t\t// stop loader.\n\t\t\t\t\t\t\t\t\t\tmodal.removeLoading();\n\t\t\t\t\t\t\t\t\t},150);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.error' );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\talways() {\n\t\t\t\t\t\t\t\t\t//console.log( 'Hello' )\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.loaded' );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log( 'No product selected' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t};\n\t$( document ).on(\n\t\t'yith_infs_adding_elem yith-wcan-ajax-filtered',\n\t\tfunction() {\n\t\t\t$.fn.rtsb_quick_view();\n\t\t}\n\t);\n\n\t$(\n\t\tfunction() {\n\t\t\t$.fn.rtsb_quick_view();\n\t\t}\n\t);\n}( jQuery ) );\n"],"names":["$","fn","rtsb_quick_view","modal","RtsbModal","footer","header","title","wrapClass","maxWidth","QvModalParams","modal_width","document","off","on","e","preventDefault","stopPropagation","$_self","product_id","data","button_text","ajax","url","rtsbQvParams","ajaxurl","action","lang","dataType","type","beforeSend","addModal","addLoading","success","res","body","addClass","addTitle","content","html","form_variation","find","each","wc_variation_form","trigger","wc_product_gallery","setTimeout","removeLoading","fail","always","console","log","jQuery"],"sourceRoot":""}